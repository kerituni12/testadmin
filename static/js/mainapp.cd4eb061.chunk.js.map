{"version":3,"file":"static/js/mainapp.cd4eb061.chunk.js","mappings":"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","sources":["assets/locales|lazy|/^/.//.*//.*/.json$/|chunkName: i18n/[request]|groupOptions: {}|namespace object","i18n/lazyimportlocale.js","i18n/i18n.js","store/rootReducer.js","store/store.js","MainApp.js","services/axios.js","modules/auth/auth.slice.js"],"sourcesContent":["var map = {\n\t\"./en/common.json\": [\n\t\t9384,\n\t\t122\n\t],\n\t\"./en/errors.json\": [\n\t\t4917,\n\t\t742\n\t],\n\t\"./en/nono.json\": [\n\t\t7435,\n\t\t903\n\t],\n\t\"./vi/common.json\": [\n\t\t4465,\n\t\t874\n\t],\n\t\"./vi/errors.json\": [\n\t\t8092,\n\t\t254\n\t],\n\t\"./vi/nono.json\": [\n\t\t8306,\n\t\t771\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__.t(id, 3 | 16);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 5314;\nmodule.exports = webpackAsyncContext;","/* eslint-disable @typescript-eslint/no-unused-vars */\nconst LazyImportPlugin = {\n  type: 'backend',\n  init: function (services, backendOptions, i18nextOptions) {},\n  read: function (language, namespace, callback) {\n    import(\n      /* webpackChunkName: \"i18n/[request]\" */ `../assets/locales/${language}/${namespace}.json`\n    ).then((obj) => {\n      callback(null, obj);\n    });\n  },\n\n  save: function (language, namespace, data) {},\n\n  create: function (languages, namespace, key, fallbackValue) {\n    /* save the missing translation */\n  },\n};\n\nexport default LazyImportPlugin;\n","import i18n from 'i18next';\nimport Backend from 'i18next-xhr-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport { initReactI18next } from 'react-i18next';\n\nimport LazyImportPlugin from './lazyimportlocale';\n\ni18n\n  .use(LazyImportPlugin)\n\n  // detect user language\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\n  .use(LanguageDetector)\n\n  // load translation using http -> see /public/locales\n  // learn more: https://github.com/i18next/i18next-http-backend\n  .use(Backend)\n\n  // pass the i18n instance to react-i18next.\n  .use(initReactI18next)\n\n  // init i18next\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init({\n    fallbackLng: false, //avoid twice request call locale\n    debug: process.env.NODE_ENV === 'development',\n    defaultNS: 'common',\n    ns: ['common'],\n    backend: {\n      loadPath: `/assets/locales/{{lng}}/{{ns}}.json`,\n    },\n    react: {\n      useSuspense: false,\n    },\n    load: 'languageOnly',\n    // special options for react-i18next\n    // learn more: https://react.i18next.com/components/i18next-instance\n    interpolation: {\n      escapeValue: false, // not needed for react as it escapes by default\n    },\n  });\n\nexport default i18n;\n","import { combineReducers } from '@reduxjs/toolkit';\nimport authReducer from '../modules/auth/auth.slice';\n\nconst createReducer = (asyncReducers) =>\n  combineReducers({\n    auth: authReducer,\n    ...asyncReducers,\n  });\n\nexport default createReducer;\n","import { configureStore } from '@reduxjs/toolkit';\nimport createReducer from './rootReducer';\n\nif (process.env.NODE_ENV === 'development' && module.hot) {\n  module.hot.accept('./rootReducer', () => {\n    const newRootReducer = require('./rootReducer').default;\n    store.replaceReducer(newRootReducer.createReducer());\n  });\n}\n\nconst store = configureStore({\n  reducer: createReducer(),\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nstore.asyncReducers = {};\n\nexport const injectReducer = (key, reducer) => {\n  if (store.asyncReducers[key]) {\n    return false;\n  }\n  store.asyncReducers[key] = reducer;\n  store.replaceReducer(createReducer(store.asyncReducers));\n  return store;\n};\n\nexport default store;\n","import { lazy, Suspense } from 'react';\nimport * as ReactDOM from 'react-dom';\nimport './i18n/i18n';\nimport { Provider } from 'react-redux';\nimport store from './store/store';\nimport { Spin } from 'antd';\nimport './index.css';\nconst App = lazy(() =>\n  import(/* webpackChunkName: \"App\"  */ './modules/app/app')\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <Suspense\n      fallback={\n        <div className=\"center-screen\">\n          <Spin size=\"large\" />\n        </div>\n      }\n    >\n      <App />\n    </Suspense>\n  </Provider>,\n  document.getElementById('root')\n);\n","// api.js\nimport Axios from 'axios';\n\nconst axios = Axios.create({\n  baseURL: process.env.NX_PUBLIC_BASE_API_URL,\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n  withCredentials: true,\n});\n\nexport default axios;\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport api from '@/services/axios';\n// import { Navigate } from 'react-router-dom';\n\nimport Cookies from 'universal-cookie';\n// import { toast } from 'react-toastify';\nimport Cookies2 from 'js-cookie';\n\nconst cookies = new Cookies();\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState: {\n    user: null,\n    isOtpVerify: true,\n    isRenderLogin: true,\n    numberOfVerifyOtpFail: 0,\n    isAuthenticated: true,\n  },\n  reducers: {\n    setUser: (state, action) => {\n      state.user = action.payload;\n    },\n    logoutSuccess: (state) => {\n      state.isRenderLogin = true;\n      state.isAuthenticated = false;\n      state.numberOfVerifyOtpFail = 0;\n    },\n    needVerifyOtp: (state, action) => {\n      state.isOtpVerify = action.payload;\n    },\n    renderLogin: (state, action) => {\n      state.isRenderLogin = action.payload;\n    },\n    authSuccess: (state, action) => {\n      state.isOtpVerify = false;\n      state.isRenderLogin = false;\n      state.isAuthenticated = true;\n      state.user = action.payload;\n    },\n    verifyOtpFail: (state) => {\n      state.numberOfVerifyOtpFail += 1;\n    },\n  },\n});\n\nexport const login = createAsyncThunk(\n  'login',\n  async ({ email, password, setRenderLogin }, { dispatch }) => {\n    try {\n      // const data = await api.post('/api/auth/login', { email, password });\n\n      // eslint-disable-next-line no-constant-condition\n      let a = true;\n      if (a) {\n        dispatch(authSuccess({ username: 'hieu' }));\n        return true;\n      }\n      // if (!data.isOtpVerify) {\n      //   dispatch(authSuccess(data.user));\n      //   return true;\n      // }\n\n      // Bat de gui ma otp ve dt . only use in product or check env dev\n      // await api.post(\"/api/auth/send-otp-auth\", { email });\n      //   const payload = data.token.split('.')[1];\n      //   cookies.set('payloadClient', payload, { maxAge: 72000 });\n      dispatch(renderLogin(false));\n      dispatch(needVerifyOtp(true));\n      return false;\n    } catch (err) {\n      console.log(err);\n    }\n    return true;\n  }\n);\n\nexport const verifyOtp = createAsyncThunk(\n  'verifyOtp',\n  async ({ email, otp }, { dispatch }) => {\n    //Cai nay dung neu xac nhan bang server nha . only use in product or check env dev\n    // const { data } = await api.post(\"/api/auth/verify-otp-auth\", { email, otp });\n\n    // Day la du lieu mau , khong dung trong deploy . only dev env\n    const data = {};\n    data.status = 'approved';\n    //\n    if (data.status === 'approved') {\n      const payload = cookies.get('payloadClient');\n      const user = JSON.parse(atob(payload));\n      dispatch(authSuccess(user));\n      return;\n    }\n    dispatch(verifyOtpFail());\n  }\n);\n\nexport const logout = createAsyncThunk('logout', async (data, { dispatch }) => {\n  Cookies2.remove('payloadClient');\n  dispatch(logoutSuccess());\n  return true;\n});\n\nexport const {\n  setUser,\n  logoutSuccess,\n  needVerifyOtp,\n  renderLogin,\n  authSuccess,\n  verifyOtpFail,\n} = authSlice.actions;\n\nexport default authSlice.reducer;\n"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","t","keys","Object","module","exports","type","init","services","backendOptions","i18nextOptions","read","language","namespace","callback","obj","save","data","create","languages","key","fallbackValue","i18n","LazyImportPlugin","use","LanguageDetector","Backend","initReactI18next","fallbackLng","debug","process","defaultNS","ns","backend","loadPath","react","useSuspense","load","interpolation","escapeValue","asyncReducers","combineReducers","auth","authReducer","store","configureStore","reducer","createReducer","devTools","App","lazy","ReactDOM","Suspense","fallback","className","size","document","getElementById","Axios","baseURL","NX_PUBLIC_BASE_API_URL","headers","Accept","withCredentials","cookies","Cookies","authSlice","createSlice","name","initialState","user","isOtpVerify","isRenderLogin","numberOfVerifyOtpFail","isAuthenticated","reducers","setUser","state","action","payload","logoutSuccess","needVerifyOtp","renderLogin","authSuccess","verifyOtpFail","login","createAsyncThunk","async","email","password","setRenderLogin","dispatch","username","err","console","log","otp","status","get","JSON","parse","atob","Cookies2","actions"],"sourceRoot":""}